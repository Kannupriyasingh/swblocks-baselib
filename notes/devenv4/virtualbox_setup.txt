*************************************** CentOS / RHEL 7 and 8 ***************************************

* Mouse integration not working in VBox; see this:
https://unix.stackexchange.com/questions/500062/virtualbox-centos-vm-cant-get-mouse-to-work-on-install
Same happened to me. Eventually I found a solution on the internet that worked for me: In the machine
setting on the System menu, set the pointing device to USB tablet instead of the default PS/2 Mouse.

* Create partitions manually: 1) swap 4 GB and 2) root as ext4 (not LVM)

* How to install gparted and other packages: https://forums.centos.org/viewtopic.php?t=52314
yum install epel-release
yum install gparted

* Installing virtualbox extensions prereqs:
https://www.if-not-true-then-false.com/2010/install-virtualbox-guest-additions-on-fedora-centos-red-hat-rhel
dnf install gcc kernel-devel kernel-headers dkms make bzip2 perl libxcrypt-compat

* Install gnome-tweaks to enable minimize and maximize buttons on the windows

* Compiling clang from scratch: https://shaharmike.com/cpp/build-clang
LLVM/Clang source code: https://github.com/llvm/llvm-project
[Optional on CentOS 7 only] CentOS: sudo yum install dnf
dnf search ninja
sudo yum install ninja-build
dnf search cmake
sudo yum install cmake3

On Ubuntu:
sudo apt install cmake
sudo apt install ninja-build


Configure GCC first: see relevant section with the same name in 'notes/configure_toolchains.txt' file

export CC=`which gcc`
export CXX=`which g++`

The above commands are to solve cmake 'Host GCC version must be at least 5.1, your version is 4.8.5'

Follow the instructions here:

git clone https://github.com/llvm/llvm-project
cd llvm-project
git checkout -b release/8.x origin/release/8.x
rm -rf .git/
cd ..
tar cvfz llvm-project-src-8.0.1.tar.gz llvm-project/

tar xvf llvm-project-src-8.0.1.tar.gz
cd llvm-project
mkdir build
cd build
mkdir ../../llvm-install

export CC=`which gcc`
export CXX=`which g++`


RHEL:
==========================================================
cmake3 -G Ninja -DLLVM_ENABLE_PROJECTS="clang;clang-tools-extra;libcxx;libcxxabi" -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=../../llvm-install ../llvm
[ disk space needed for build + install is around 6 GB ]
OR
cmake3 -G Ninja -DLLVM_ENABLE_PROJECTS="clang;clang-tools-extra;libcxx;libcxxabi;libunwind;lldb;compiler-rt;lld;polly" -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=../../llvm-install ../llvm

ninja-build -j 8
ninja-build -j 8 install

Ubuntu:
==========================================================
cmake -G Ninja -DLLVM_ENABLE_PROJECTS="clang;clang-tools-extra;libcxx;libcxxabi" -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=../../llvm-install ../llvm
[ disk space needed for build + install is around 6 GB ]
OR
cmake -G Ninja -DLLVM_ENABLE_PROJECTS="clang;clang-tools-extra;libcxx;libcxxabi;libunwind;lldb;compiler-rt;lld;polly" -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=../../llvm-install ../llvm

ninja -j 8
ninja -j 8 install

https://llvm.org/docs/UserGuides.html
https://llvm.org/docs/AdvancedBuilds.html

Ubuntu stage2:
==========================================================

cmake -G Ninja -DCLANG_ENABLE_BOOTSTRAP=On -DCLANG_BOOTSTRAP_PASSTHROUGH="CMAKE_BUILD_TYPE;CMAKE_INSTALL_PREFIX;LLVM_ENABLE_PROJECTS" -DLLVM_ENABLE_PROJECTS="clang;clang-tools-extra;libcxx;libcxxabi" -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=../../llvm-install ../llvm

ninja stage2
ninja stage2-install

*************************************** CentOS / RHEL 7 and 8 ***************************************

http://askubuntu.com/questions/252853/how-to-mount-a-virtualbox-shared-folder-at-startup/781758#781758

To install the virtualbox guest additions on Ubuntu 16.04:

sudo apt-get install virtualbox-guest-dkms

On some systems the vboxsf kernel module is not yet loaded at the time fstab is read on boot. It may
then help to append the vboxsf kernel module to /etc/modules

create /media/<mount_point> and add permissions to it:

sudo mkdir /media/<mount_point>
sudo chown user:user /media/<mount_point>

share your git folder on the virtual box side and add the following line in /etc/fstab:

<vboxsf_share_name>  		/media/<mount_point>  	vboxsf 	defaults 	0 0

The following commands have to be run in on *non-windows* virtual box VMs to avoid
a possible 'Host not found (authoritative)' issue;

"c:\Program Files\Oracle\VirtualBox\VBoxManage.exe" modifyvm [VM name] --natdnshostresolver1 on
"c:\Program Files\Oracle\VirtualBox\VBoxManage.exe" modifyvm [VM name] --natdnsproxy1 on

For more info see the following URL:

https://github.com/mitchellh/vagrant/pull/1176

*Note* that you should not do this on Windows VMs otherwise you may get the following issue:

std::exception::what: System error has occurred: A non-recoverable error occurred during a database lookup
[struct bl::eh::errinfo_category_name_ *] = system
[struct bl::eh::errinfo_error_code_ *] = system:11003
[struct bl::eh::errinfo_error_code_message_ *] = A non-recoverable error occurred during a database lookup
[struct bl::eh::errinfo_message_ *] = System error has occurred
[struct bl::eh::errinfo_system_code_ *] = 11003
[struct bl::eh::errinfo_task_info_ *] = [cancelRequested=0]
[struct bl::eh::errinfo_time_thrown_ *] = 2013-Jul-15 10:32:13.391934
